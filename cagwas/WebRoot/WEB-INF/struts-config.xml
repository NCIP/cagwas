<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">
<struts-config>
	
  <!-- ========== Data Source Configuration ============================== -->
  <data-sources/>

  <!-- ========== Form Bean Definitions ================================== -->
  <form-beans>
   	<form-bean name="browseForm" type="gov.nih.nci.cgems.web.form.BrowseForm"/>
	<form-bean name="loginForm" type="gov.nih.nci.cgems.web.form.LoginForm"/>
      <form-bean name="associationsForm" type="gov.nih.nci.cgems.web.form.AssociationsForm"/>
	<form-bean name="populationForm" type="gov.nih.nci.cgems.web.form.PopulationForm"/>
	<form-bean name="downloadForm" type="gov.nih.nci.cgems.web.form.DownloadForm"/>
	<form-bean name="genotypeForm" type="gov.nih.nci.cgems.web.form.GenotypeForm"/>
	<form-bean name="subjectForm" type="gov.nih.nci.cgems.web.form.SubjectForm"/>
      <form-bean name="feedbackForm" type="gov.nih.nci.cgems.web.form.FeedbackForm"/>
  </form-beans>

  <!-- ========== Global Exception Definitions ============================ -->
  <global-exceptions/>

  <!-- ========== Global Forward Definitions ============================== -->
  <global-forwards>
    <forward name="error" path="/error.jsp"/>
    <forward name="ploneError" path="cgems.ploneError"/>
    <forward name="criteriaWarn" path="cgems.criteriaWarn"/>
  </global-forwards>
      
  <!-- ========== Action Mapping Definitions ============================ -->
  <action-mappings>
    
    <action path="/browseSetup"
		type="gov.nih.nci.cgems.web.action.BrowseSetupAction"
		scope="request">
    <forward name="success" path="cgems.browseData"/>
    </action>

    <action path="/downloadSetup"
		type="gov.nih.nci.cgems.web.action.BulkDownloadSetupAction"
		scope="request">
    <forward name="success" path="cgems.downloadData"/>
    </action>

    <action path="/browse"
		type="gov.nih.nci.cgems.web.action.BrowseAction"
            name="browseForm"
		scope="request"
            input="cgems.browseData">
    <forward name="association" path="cgems.searchAssociations"/>
    <forward name="population" path="cgems.searchPopulation"/>
    <forward name="subjects" path="cgems.searchSubject"/>
    <forward name="genotypes" path="cgems.searchGenotype"/>
    <forward name="login" path="/login.jsp"/>
    <forward name="accessWarning" path="cgems.accessWarn"/>
    </action>

    <action path="/reset"
		type="gov.nih.nci.cgems.web.action.ResetAction"
		scope="request">
    <forward name="association" path="cgems.searchAssociations"/>
    <forward name="population" path="cgems.searchPopulation"/>
    <forward name="subjects" path="cgems.searchSubject"/>
    <forward name="genotypes" path="cgems.searchGenotype"/>
    <forward name="login" path="/login.jsp"/>
    </action>

    <action path="/bulkDownload"
		type="gov.nih.nci.cgems.web.action.BulkDownloadAction"
            name="browseForm"
		scope="request"
            input="cgems.downloadData">
    <forward name="login" path="/login.jsp"/>
    </action>

    <action path="/login"
		type="gov.nih.nci.cgems.web.action.LoginAction"
            name="loginForm"
		scope="request"
            input="/login.jsp">
    <forward name="success" path="/browseSetup.do"/>
    <forward name="accessWarning" path="cgems.accessWarn"/>
    </action>

    <action path="/logout"
		type="gov.nih.nci.cgems.web.action.LogoutAction"
		scope="request">
    <forward name="success" path="/browseSetup.do"/>
    </action>

    <action path="/searchAssociations"
		type="gov.nih.nci.cgems.web.action.SearchAssociationsAction"
            name="associationsForm"
		scope="request"
            input="cgems.searchAssociations">
    <forward name="success" path="cgems.associationReport"/>
    <forward name="download" path="cgems.download"/>
    </action>

    <action path="/saveAssociations"
		type="gov.nih.nci.cgems.web.action.SaveAssociationsAction"
		scope="request">
    <forward name="success" path="cgems.associationReport"/>
    </action>

    <action path="/sortAssociations"
		type="gov.nih.nci.cgems.web.action.SortAssociationsAction"
		scope="request">
    <forward name="success" path="cgems.associationReport"/>
    </action>

    <action path="/searchPopulation"
		type="gov.nih.nci.cgems.web.action.SearchPopulationAction"
            name="populationForm"
		scope="request"
            input="cgems.searchPopulation">
    <forward name="success" path="cgems.populationReport"/>
    <forward name="download" path="cgems.download"/>
    </action>

    <action path="/savePopulation"
		type="gov.nih.nci.cgems.web.action.SavePopulationAction"
		scope="request">
    <forward name="success" path="cgems.populationReport"/>
    </action>

    <action path="/sortPopulation"
		type="gov.nih.nci.cgems.web.action.SortPopulationAction"
		scope="request">
    <forward name="success" path="cgems.populationReport"/>
    </action>

    <action path="/download"
		type="gov.nih.nci.cgems.web.action.DownloadAction"
            name="downloadForm"
		scope="request"
            input="cgems.download">
    <forward name="success" path="cgems.querySuccess"/>
    </action>

    <action path="/searchGenotype"
		type="gov.nih.nci.cgems.web.action.SearchGenotypeAction"
            name="genotypeForm"
		scope="request"
            input="cgems.searchGenotype">
    <forward name="success" path="cgems.download"/>
    </action>

    <action path="/searchSubject"
		type="gov.nih.nci.cgems.web.action.SearchSubjectAction"
            name="subjectForm"
		scope="request"
            input="cgems.searchSubject">
    <forward name="success" path="cgems.subjectReport"/>
    <forward name="download" path="cgems.download"/>
    </action>

    <action path="/saveSubject"
		type="gov.nih.nci.cgems.web.action.SaveSubjectAction"
		scope="request">
    <forward name="success" path="cgems.subjectReport"/>
    </action>

    <action path="/sortSubject"
		type="gov.nih.nci.cgems.web.action.SortSubjectAction"
		scope="request">
    <forward name="success" path="cgems.subjectReport"/>
    </action>

    <action path="/userRegistration"
		type="gov.nih.nci.cgems.web.action.RegistrationAction"
     		scope="request">
    <forward name="success" path="/registration.jsp"/>
    </action>

    <action path="/feedbackSetup"
		type="gov.nih.nci.cgems.web.action.FeedbackSetupAction"
		scope="request">
    <forward name="success" path="cgems.feedback"/>
    </action>

    <action path="/feedback"
		type="gov.nih.nci.cgems.web.action.FeedbackAction"
            name="feedbackForm"
		scope="request"
            input="cgems.feedback">
    <forward name="success" path="/browseSetup.do"/>
    </action>

    <action path="/aboutSetup"
		type="gov.nih.nci.cgems.web.action.AboutSetupAction"
		scope="request">
    <forward name="success" path="cgems.about"/>
    </action>

    <action path="/remoteSetup"
		type="gov.nih.nci.cgems.web.action.RemoteSetupAction"
		scope="request">
    <forward name="prostate" path="cgems.studyProstate"/>
    <forward name="breast" path="cgems.studyBreast"/>
    <forward name="glossary" path="cgems.glossary"/>
    <forward name="contacts" path="cgems.contacts"/>
    <forward name="cite" path="cgems.cite"/>
    <forward name="citeExample" path="cgems.citeExample"/>
    <forward name="access" path="cgems.access"/>
    <forward name="openAccess" path="cgems.openAccess"/>
    <forward name="controlledAccess" path="cgems.controlledAccess"/>
    </action>

    <action path="/getRemotePDF"
		type="gov.nih.nci.cgems.web.action.GetRemotePDFAction"
		scope="request">
    </action>

    <action path="/viewText"
		type="gov.nih.nci.cgems.web.action.ViewTextAction"
		scope="request">
    </action>
		
  </action-mappings>
    
  <!-- ========== Controller Configuration =============================== -->
  <controller />

  <!-- ========== Message Resources Definitions ========================== -->
  <message-resources parameter="cgemsResources" />

  <!-- ========== Plug Ins Configuration ================================= -->
  <plug-in className="org.apache.struts.tiles.TilesPlugin" >
	   <set-property property="definitions-config" value="/WEB-INF/tiles-defs.xml" />
	   <set-property property="definitions-parser-validate" value="true" />
	   <set-property property="definitions-debug" value="2" />
	   <set-property property="definitions-parser-details" value="2" />
	   <set-property property="moduleAware" value="true" />
  </plug-in>

  <plug-in className="gov.nih.nci.cgems.web.SchedulerPlugIn">
     <set-property property="startOnLoad" value="true" />
  </plug-in>
</struts-config>

